## VIM 解决问题的方式

1. 认识 **. 命令**

重复上一次修改，x，dd，>G 这种在普通模式下的修改可以记录为一次修改，从普通模式进入插入模式再返回普通模式也可以作为一次修改，在进入插入模式后，vim 会记录每个操作，在退出普通模式后用 **. 命令** 重放。

2. 不要自我重复

用复合命令代替等效的长命令

| 复合命令 | 等效的长命令 |
| -------- | ------------ |
| C        | c$           |
| s        | cl           |
| S        | ^c           |
| I        | ^i           |
| A        | $a           |
| o        | A<CR>        |
| O        | ko           |

3. 以退为进

结合 **;命令** 和 **.命令** 来减少重复的操作

**;命令** 用来重复上次查找的 **f 命令**

4. 执行重复回退

| 执行                  | 重复 | 回退 |
| --------------------- | ---- | ---- |
| {edit}                | .    | u    |
| f{char}/t{char}       | ;    | ,    |
| F{char}/T{char}       | ;    | ,    |
| /parrtern<CR>         | n    | N    |
| ?pattern<CR>          | n    | N    |
| :s/target/replacement | &    | u    |
| qx{changes}q          | @x   | u    |

5. 手动查找并替换

使用 **f{char}** 找到需要修改的字符后，用 **\*** 高亮所有查到到的字符，用 **n 命令** 遍历所有相关的字符串，用 **.命令** 决定是否修改。

6. 认识 **.** 范式

回顾刚刚的内容，理想的重复编辑模式是用一个键移动，用另一个键执行。

## 普通模式

7. 定顿时请移开笔

在不输入的时候最好保持普通模式，在普通模式下我们依然可以移动格式化代码。

8. 把撤销单元切成块

控制撤销的粒度, **u 命令**可以撤销上次修改，思考何时退出插入模式。

9. 构造可重复的修改

有多种修改方案的时候，选择可以重复的那种。

10. 用次数做简单的运算

<C-a>和<C-x>可以对光标下或者光标后的数字进行加减，0 开头的数字视为八进制。

11. 能够重复，就不要用次数

比如可以执行 7 次 dd 来删除 7 行就不要用 7dd，7dd 会被视为一次修改，使得修改粒度过大，在执行 **. 命令**和**u 命令**的时候不方便。

12. 双剑合璧，天下无敌

操作符 + 动作命令 = 操作

比如 d(删除) + l(右边字符) = 删除右边字符

我觉得更好的说法是 命令 + 文本对象 = 操作

待决操作符执行两次作用与当前行。

比如 y 需要后面待复制的文本对象，如 aw 表示复制整个单词，此时 yy 就表示复制当前行。

以此类推。

gcc 注释当前行。
